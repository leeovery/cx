interface PluginEntry {
    version: string;
    files: string[];
}
interface Manifest {
    plugins: Record<string, PluginEntry>;
}
declare function readManifest(projectRoot: string): Manifest;
declare function writeManifest(projectRoot: string, manifest: Manifest): void;
declare function addPlugin(projectRoot: string, packageName: string, version: string, files: string[]): void;
declare function removePlugin(projectRoot: string, packageName: string): void;
declare function getPlugins(projectRoot: string): Record<string, PluginEntry>;
declare function cleanupManifestFiles(projectRoot: string): string[];

interface CopyResult {
    files: string[];
    version: string;
}
declare function getPackageVersion(packagePath: string): string;
declare function copyPluginAssets(packagePath: string, projectRoot: string): CopyResult;
declare function findPluginInNodeModules(packageName: string, projectRoot: string): string | null;
declare function hasAssets(packagePath: string): boolean;

interface SyncResult {
    success: boolean;
    synced: boolean;
    reason?: string;
    totalFiles: number;
    pluginCount: number;
    removedPlugins: string[];
    conflicts: string[];
    installedPlugins: Array<{
        name: string;
        version: string;
        fileCount: number;
    }>;
}
interface AddResult {
    success: boolean;
    alreadyExists: boolean;
    packageName: string;
    version?: string;
    files: string[];
    error?: string;
}
interface ListResult {
    plugins: Record<string, PluginEntry>;
}
interface RemoveResult {
    success: boolean;
    packageName: string;
    filesRemoved: string[];
    error?: string;
}
declare function syncPlugins(projectRoot: string, options?: {
    force?: boolean;
}): SyncResult;
declare function addPluginToProject(projectRoot: string, packageName: string): AddResult;
declare function listPlugins(projectRoot: string): ListResult;
declare function removePluginFromProject(projectRoot: string, packageName: string): RemoveResult;

/**
 * Add the current plugin to the project.
 * Called from plugin's postinstall: node -e "require('@leeovery/claude-manager').add()"
 */
declare function add(): void;
/**
 * Remove the current plugin from the project.
 * Called from plugin's preuninstall: node -e "require('@leeovery/claude-manager').remove()"
 */
declare function remove(): void;

export { type AddResult, type ListResult, type Manifest, type PluginEntry, type RemoveResult, type SyncResult, add, addPlugin, addPluginToProject, cleanupManifestFiles, copyPluginAssets, findPluginInNodeModules, getPackageVersion, getPlugins, hasAssets, listPlugins, readManifest, remove, removePlugin, removePluginFromProject, syncPlugins, writeManifest };
